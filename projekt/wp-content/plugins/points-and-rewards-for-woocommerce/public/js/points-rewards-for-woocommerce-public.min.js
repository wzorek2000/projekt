!function(o){"use strict";o(document).ready(function(){var e=document.querySelectorAll("button");new ClipboardJS(e);o(".wps_wpr_level_benefits").click(function(){var e=o(this).data("id");jQuery("#wps_wpr_popup_wrapper_"+e).css("display","block"),jQuery(".wps_wpr_close").click(function(){jQuery("#wps_wpr_popup_wrapper_"+e).css("display","none")})}),o(document).on("click",".wps_wpr_common_slider",function(){o(this).siblings(".wps_wpr_common_table").slideToggle("fast"),o(this).children(".wps_wpr_open_toggle").toggleClass("wps_wpr_plus_icon")}),o(document).on("click","#wps_cart_points_apply",function(e){e.preventDefault();var t=o(this).data("id"),_=o(this).data("point"),n=o(this).data("order-limit"),m="",s="",i=(wps_wpr.wps_wpr_cart_points_rate,wps_wpr.wps_wpr_cart_price_rate,o("#wps_cart_points").val());if(o("#wps_wpr_cart_points_notice").html(""),o("wps_wpr_cart_points_success").html(""),""==i&&(o("html, body").animate({scrollTop:o("#wps_wpr_cart_points_notice").offset().top-300},500),o("#wps_wpr_cart_points_notice").removeClass("wps_rwpr_settings_display_none_notice"),o("#wps_wpr_cart_points_notice").html(wps_wpr.points_empty),o("#wps_wpr_cart_points_notice").show()),"undefined"!==i&&""!==i&&null!==i&&i>0)if(null!==_&&_>0&&_>=i){r(o(".woocommerce-cart-form")),r(o(".woocommerce-checkout"));var a={action:"wps_wpr_apply_fee_on_cart_subtotal",user_id:t,wps_cart_points:i,wps_nonce:wps_wpr.wps_wpr_nonce};o.ajax({url:wps_wpr.ajaxurl,type:"POST",data:a,dataType:"json",success:function(e){1==e.result?(m=e.message,s=m,o("#wps_wpr_cart_points_success").removeClass("wps_rwpr_settings_display_none_notice"),o("#wps_wpr_cart_points_success").html(s),o("#wps_wpr_cart_points_success").show()):(m=e.message,s=m,o("#wps_wpr_cart_points_notice").removeClass("wps_rwpr_settings_display_none_notice"),o("#wps_wpr_cart_points_notice").html(s),o("#wps_wpr_cart_points_notice").show())},complete:function(){c(o(".woocommerce-cart-form")),c(o(".woocommerce-cart-form")),location.reload()}})}else if("undefined"!==n&&""!==n&&null!==n&&n>0)if(o(".woocommerce-cart-form").offset()){ o('.wps_error').remove();o("html, body").animate({scrollTop:o(".woocommerce-cart-form").offset().top},800);var l='<ul class="woocommerce-error wps_error" role="alert"><li>'+wps_wpr.above_order_limit+"</li></ul>";o(l).insertBefore(o(".woocommerce-cart-form"))}else{ o('.wps_error').remove(); o("html, body").animate({scrollTop:o(".custom_point_checkout").offset().top},800);l='<ul class="woocommerce-error wps_error" role="alert"><li>'+wps_wpr.above_order_limit+"</li></ul>";o(l).insertBefore(o(".custom_point_checkout"))}else if(o(".woocommerce-cart-form").offset()){o('.wps_error').remove();o("html, body").animate({scrollTop:o(".woocommerce-cart-form").offset().top},800);l='<ul class="woocommerce-error wps_error" role="alert"><li>'+wps_wpr.not_suffient+"</li></ul>";o(l).insertBefore(o(".woocommerce-cart-form"))}else{o('.wps_error').remove();o("html, body").animate({scrollTop:o(".custom_point_checkout").offset().top},800);l='<ul class="woocommerce-error wps_error" role="alert"><li>'+wps_wpr.not_suffient+"</li></ul>";o(l).insertBefore(o(".custom_point_checkout"))}}),o(document).on("click","#wps_wpr_remove_cart_point",function(){r(o(".woocommerce-cart-form"));var e={action:"wps_wpr_remove_cart_point",wps_nonce:wps_wpr.wps_wpr_nonce};o.ajax({url:wps_wpr.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){1==e.result&&o("#wps_cart_points").val("")},complete:function(){c(o(".woocommerce-cart-form")),location.reload()}})});var r=function(o){t(o)||o.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},t=function(o){return o.is(".processing")||o.parents(".processing").length},c=function(o){o.removeClass("processing").unblock()};o(document).on("click","#wps_wpr_upgrade_level_click",function(){confirm(wps_wpr.confirmation_msg)&&o(document).find("#wps_wpr_upgrade_level").click()})})}(jQuery);